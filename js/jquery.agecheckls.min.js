(function(b){b.ageCheck=function(g){var d=b.extend({minAge:18,redirectTo:"",redirectOnFail:"",title:"Age Verification",copy:"This Website requires you to be [18] years or older to enter. Please enter your Date of Birth in the fields below in order to continue:"},g),a={month:"",day:"",year:"",age:"",errors:[],setValues:function(){var c=b(".ac-container .month").val(),e=b(".ac-container .day").val();a.month=c;a.day=e.replace(/^0+/,"");a.year=b(".ac-container .year").val()},validate:function(){a.errors=
[];!1===/^([0-9]|[12]\d|3[0-1])$/.test(a.day)&&a.errors.push("Day is invalid or empty");!1===/^(19|20)\d{2}$/.test(a.year)&&a.errors.push("Year is invalid or empty");a.clearErrors();a.displayErrors();return 1>a.errors.length},clearErrors:function(){b(".errors").html("")},displayErrors:function(){for(var c="<ul>",e=0;e<a.errors.length;e++)c+="<li><span>x</span>"+a.errors[e]+"</li>";c+="</ul>";setTimeout(function(){b(".ac-container .errors").html(c)},200)},reCenter:function(a){a.css("top",Math.max(0,
(b(window).height()-(a.outerHeight()+150))/2)+"px");a.css("left",Math.max(0,(b(window).width()-a.outerWidth())/2)+"px")},buildHtml:function(){var c=d.copy,e="January February March April May June July August September October November December".split(" ");var f='<div class="ac-overlay"></div><div class="ac-container">'+("<h2>"+d.title+"</h2>");f+="<p>"+c.replace("[18]","<strong>"+d.minAge+"</strong>");NaN;f+='<div class="errors"></div><div class="fields"><select class="month">';for(c=0;c<e.length;c++)f+=
'<option value="'+c+'">'+e[c]+"</option>";f+='</select><input class="day" maxlength="2" placeholder="01" /><input class="year" maxlength="4" placeholder="1989"/><button>Submit</button></div></div>';b("body").append(f);b(".ac-overlay").animate({opacity:.8},500,function(){a.reCenter(b(".ac-container"));b(".ac-container").css({opacity:1})});b(".ac-container .day, .ac-container .year").focus(function(){b(this).removeAttr("placeholder")})},setAge:function(){a.age="";var b=new Date(a.year,a.month,a.day),
b=Date.now()-b.getTime();a.age=Math.abs((new Date(b)).getUTCFullYear()-1970)},setSessionStorage:function(a,b){try{return localStorage.setItem(a,b),!0}catch(f){return!1}},handleSuccess:function(){b(".ac-container").html("<h3>Success!</h3><p>You are now being redirected back to the application...</p>");setTimeout(function(){b(".ac-container").animate({top:"-350px"},200,function(){b(".ac-overlay").animate({opacity:"0"},500,function(){""!==d.redirectTo?window.location.replace(d.redirectTo):b(".ac-overlay, .ac-container").remove()})})},
2E3)},handleUnderAge:function(){b(".ac-container").html("<h3>Sorry, you are not old enough to view this site...</h3>");""!==d.redirectOnFail&&setTimeout(function(){window.location.replace(d.redirectOnFail)},2E3)}};if("true"===localStorage.getItem("ageVerified"))return!1;a.buildHtml();b(".ac-container button").on("click",function(){a.setValues();!0===a.validate()&&(a.setAge(),a.age>=d.minAge?(a.setSessionStorage("ageVerified","true")||console.log("sessionStorage not supported by your browser"),a.handleSuccess()):
a.handleUnderAge())});b(window).resize(function(){a.reCenter(b(".ac-container"));setTimeout(function(){a.reCenter(b(".ac-container"))},500)})}})(jQuery);
